(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{dkjU:function(e,t,n){"use strict";n.r(t),n.d(t,"SkillsModule",(function(){return M}));var i=n("ofXK"),r=n("tyNb"),s=n("dEAy"),c=n("ocnv"),a=n("PTRe"),o=n("OzZK"),l=n("z4wI"),b=n("rMZv"),d=n("5vDB"),u=n("W9fG"),h=n("fXoL"),p=n("vFkZ"),m=n("AytR"),g=n("6vsv"),z=n("tk/3");let f=(()=>{class e extends p.a{constructor(e){super(e),this.http=e}getDefaultSkills(){return this.get(`${m.a.apiUrl}${g.a.skills}/getAllWithoutPagination/${g.a.default_user}`).toPromise()}getAll(e,t){return this.get(`${m.a.apiUrl}${g.a.skills}?size=${t}&page=${e}`).toPromise()}getAllWithoutPagination(e){return this.get(`${m.a.apiUrl}${g.a.skills}/getAllWithoutPagination/${e}`).toPromise()}create(e){return this.post(`${m.a.apiUrl}${g.a.skills}`,e).toPromise()}update(e,t){return this.put(`${m.a.apiUrl}${g.a.skills}/${e}`,t).toPromise()}hardDelete(e){return this.delete(`${m.a.apiUrl}${g.a.skills}/${e}`).toPromise()}}return e.\u0275fac=function(t){return new(t||e)(h.bc(z.c))},e.\u0275prov=h.Nb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var v=n("y8gV");const W=function(){return{"0%":"#108ee9","100%":"#87d068"}};function k(e,t){if(1&e&&(h.Xb(0,"div",7),h.Xb(1,"div",8),h.Xb(2,"h5"),h.Dc(3),h.jc(4,"uppercase"),h.Wb(),h.Wb(),h.Xb(5,"div",8),h.Sb(6,"nz-progress",9),h.Wb(),h.Wb()),2&e){const e=t.$implicit;h.Cb(3),h.Ec(h.kc(4,3,e.name)),h.Cb(3),h.nc("nzPercent",e.percent)("nzStrokeColor",h.pc(5,W))}}let X=(()=>{class e{constructor(e,t){this._skillService=e,this._authService=t,this.lst=[]}ngOnInit(){this.init()}init(){this._skillService.getDefaultSkills().then(e=>this.lst=e)}}return e.\u0275fac=function(t){return new(t||e)(h.Rb(f),h.Rb(v.a))},e.\u0275cmp=h.Lb({type:e,selectors:[["app-skills"]],decls:9,vars:1,consts:[[1,"about_area","section_gap"],[1,"container"],[1,"row","justify-content-start","align-items-center"],[1,"col"],[1,"card"],[1,"card-body"],["class","row",4,"ngFor","ngForOf"],[1,"row"],[1,"col-lg-12"],["nzStatus","active",3,"nzPercent","nzStrokeColor"]],template:function(e,t){1&e&&(h.Xb(0,"section",0),h.Xb(1,"div",1),h.Xb(2,"div",2),h.Xb(3,"div",3),h.Xb(4,"h1"),h.Dc(5,"Skills"),h.Wb(),h.Xb(6,"div",4),h.Xb(7,"div",5),h.Bc(8,k,7,6,"div",6),h.Wb(),h.Wb(),h.Wb(),h.Wb(),h.Wb(),h.Wb()),2&e&&(h.Cb(8),h.nc("ngForOf",t.lst))},directives:[i.k,u.a],pipes:[i.u],styles:[""]}),e})();class S{}var P=n("jKJn"),C=n("3Pt+"),y=n("B+r4"),_=n("C2AL"),w=n("RwU8");function D(e,t){if(1&e){const e=h.Yb();h.Xb(0,"tr"),h.Xb(1,"td"),h.Dc(2),h.Wb(),h.Xb(3,"td"),h.Dc(4),h.jc(5,"percent"),h.Wb(),h.Xb(6,"td"),h.Xb(7,"nz-button-group"),h.Xb(8,"button",23),h.fc("click",(function(){h.vc(e);const n=t.$implicit;return h.ic().showModal(n)})),h.Dc(9,"Edit"),h.Wb(),h.Xb(10,"button",24),h.fc("click",(function(){h.vc(e);const n=t.$implicit;return h.ic().delete(n._id)})),h.Dc(11,"Delete"),h.Wb(),h.Wb(),h.Wb(),h.Wb()}if(2&e){const e=t.$implicit;h.Cb(2),h.Ec(e.name),h.Cb(2),h.Ec(h.kc(5,2,e.percent/100))}}function $(e,t){if(1&e){const e=h.Yb();h.Xb(0,"button",25),h.fc("click",(function(){return h.vc(e),h.ic().handleCancel()})),h.Dc(1,"Cancel"),h.Wb(),h.Xb(2,"button",26),h.fc("click",(function(){return h.vc(e),h.ic().submitForm()})),h.Dc(3,"Save"),h.Wb()}if(2&e){h.ic();const e=h.tc(26);h.Cb(2),h.nc("disabled",e.invalid)}}let F=(()=>{class e{constructor(e,t,n){this._skillService=e,this._alertService=t,this._authService=n,this.isVisible=!1,this.formatterPercent=e=>e+" %",this.parserPercent=e=>e.replace(" %",""),this.model=new S,this.lst=[],this.pageIndex=1,this.pageSize=10,this.model.percent=0}ngOnInit(){this.init(void 0)}init(e){e&&(this.pageSize=e.pageSize,this.pageIndex=e.pageIndex),this._skillService.getAll(this.pageIndex,this.pageSize).then(e=>{this.lst=e.Items,this.totalItems=e.TotalCount})}submitForm(){this.model._id?this.update():this.create()}create(){this._alertService.question(()=>{this.model.userId=this._authService.currentUserValue.id,this._skillService.create(this.model).then(()=>{this._alertService.success("Skill creado").then(()=>{this.isVisible=!1,this.init(void 0)})})},"Estas seguro de guardar este registro")}update(){this._alertService.question(()=>{this.model.userId=this._authService.currentUserValue.id,this._skillService.update(this.model._id,this.model).then(()=>{this._alertService.success("Skill actualizado").then(()=>{this.isVisible=!1,this.init(void 0)})})},"Estas seguro de editar este registro")}delete(e){this._alertService.question(()=>{this._skillService.hardDelete(e).then(()=>{this._alertService.success("Registro elminado").then(()=>{this.isVisible=!1,this.init(void 0)})})},"Estas seguro de eliminar este registro")}showModal(e){e&&(this.model=e),this.isVisible=!0}handleCancel(){this.isVisible=!1,this.model=new S,this.model.percent=0}}return e.\u0275fac=function(t){return new(t||e)(h.Rb(f),h.Rb(P.a),h.Rb(v.a))},e.\u0275cmp=h.Lb({type:e,selectors:[["app-manage-skills"]],decls:40,vars:17,consts:[[1,"about_area","section_gap"],[1,"container"],[1,"row","justify-content-start","align-items-center"],[1,"col"],[1,"row","d-flex","justify-content-between",2,"margin-bottom","1rem"],["type","button",1,"primary_btn","btn-sm",3,"click"],["aria-hidden","true",1,"fa","fa-plus-circle"],[1,"card"],[1,"card-body"],[1,"row"],["nzShowSizeChanger","",3,"nzData","nzFrontPagination","nzTotal","nzPageSize","nzPageIndex","nzQueryParams"],[4,"ngFor","ngForOf"],[3,"nzVisible","nzTitle","nzFooter","nzVisibleChange","nzOnCancel"],["nz-form","",3,"nzLayout"],["form","ngForm"],["nzFor","name"],["nzErrorTip","Please input skill name!","nzHasFeedback",""],["nzPrefixIcon","edit"],["required","","type","text","name","name","id","name","nz-input","","placeholder","Skill Name",3,"ngModel","ngModelChange"],["nzFor","percent"],["nzErrorTip","Please input the percentage!","nzHasFeedback",""],["required","","name","percent","id","percent","placeholder","Percentage",3,"ngModel","nzMin","nzMax","nzStep","nzFormatter","nzParser","ngModelChange"],["modalFooter",""],["nz-button","","nzType","primary",3,"click"],["nz-button","","nzType","primary","nzDanger","",3,"click"],["nz-button","","nzType","default","nzDanger","",3,"click"],["nz-button","","nzType","primary",3,"disabled","click"]],template:function(e,t){if(1&e&&(h.Xb(0,"section",0),h.Xb(1,"div",1),h.Xb(2,"div",2),h.Xb(3,"div",3),h.Xb(4,"div",4),h.Xb(5,"h1"),h.Dc(6,"Management Skills"),h.Wb(),h.Xb(7,"button",5),h.fc("click",(function(){return t.showModal(void 0)})),h.Sb(8,"i",6),h.Dc(9," New "),h.Wb(),h.Wb(),h.Xb(10,"div",7),h.Xb(11,"div",8),h.Xb(12,"div",9),h.Xb(13,"nz-table",10),h.fc("nzQueryParams",(function(e){return t.init(e)})),h.Xb(14,"thead"),h.Xb(15,"tr"),h.Xb(16,"th"),h.Dc(17,"Name"),h.Wb(),h.Xb(18,"th"),h.Dc(19,"Percent"),h.Wb(),h.Xb(20,"th"),h.Dc(21,"Options"),h.Wb(),h.Wb(),h.Wb(),h.Xb(22,"tbody"),h.Bc(23,D,12,4,"tr",11),h.Wb(),h.Wb(),h.Wb(),h.Wb(),h.Wb(),h.Wb(),h.Wb(),h.Wb(),h.Wb(),h.Xb(24,"nz-modal",12),h.fc("nzVisibleChange",(function(e){return t.isVisible=e}))("nzOnCancel",(function(){return t.handleCancel()})),h.Xb(25,"form",13,14),h.Xb(27,"nz-form-item"),h.Xb(28,"nz-form-label",15),h.Dc(29,"Name"),h.Wb(),h.Xb(30,"nz-form-control",16),h.Xb(31,"nz-input-group",17),h.Xb(32,"input",18),h.fc("ngModelChange",(function(e){return t.model.name=e})),h.Wb(),h.Wb(),h.Wb(),h.Wb(),h.Xb(33,"nz-form-item"),h.Xb(34,"nz-form-label",19),h.Dc(35,"Percentage"),h.Wb(),h.Xb(36,"nz-form-control",20),h.Xb(37,"nz-input-number",21),h.fc("ngModelChange",(function(e){return t.model.percent=e})),h.Wb(),h.Wb(),h.Wb(),h.Wb(),h.Bc(38,$,4,1,"ng-template",null,22,h.Cc),h.Wb()),2&e){const e=h.tc(39);h.Cb(13),h.nc("nzData",t.lst)("nzFrontPagination",!1)("nzTotal",t.totalItems)("nzPageSize",t.pageSize)("nzPageIndex",t.pageIndex),h.Cb(10),h.nc("ngForOf",t.lst),h.Cb(1),h.nc("nzVisible",t.isVisible)("nzTitle",t.model._id?"Edit Skill":"New Skill")("nzFooter",e),h.Cb(1),h.nc("nzLayout","vertical"),h.Cb(7),h.nc("ngModel",t.model.name),h.Cb(5),h.nc("ngModel",t.model.percent)("nzMin",1)("nzMax",100)("nzStep",1)("nzFormatter",t.formatterPercent)("nzParser",t.parserPercent)}},directives:[b.b,b.f,b.g,b.a,b.e,b.d,i.k,s.a,C.q,C.m,C.n,c.b,y.c,c.c,y.a,c.d,c.a,a.c,a.b,C.c,C.p,C.l,C.o,l.a,o.b,_.a,o.a,w.a],pipes:[i.s],styles:["nz-input-number[_ngcontent-%COMP%], nz-table[_ngcontent-%COMP%]{width:100%}"]}),e})(),M=(()=>{class e{}return e.\u0275mod=h.Pb({type:e}),e.\u0275inj=h.Ob({factory:function(t){return new(t||e)},imports:[[i.c,C.g,s.b,c.e,a.d,o.c,l.b,b.c,d.a,u.b,r.f.forChild([{path:"",component:X},{path:"manageSkills",component:F}])]]}),e})()}}]);